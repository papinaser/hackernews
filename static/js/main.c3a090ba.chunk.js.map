{"version":3,"sources":["styles/global.js","store/app/actions.js","store/app/reducer.js","services/Api.js","services/hackerNewsApi.js","store/story/actions.js","store/story/reducer.js","store/reducer.js","store/middleware.js","store/index.js","utils/getSiteHostname.js","utils/getArticleLink.js","components/ListItem/styles.js","components/ListItem/index.js","components/List/styles.js","components/List/index.js","styles/palette.js","components/App/styles.js","styles/mediaQueries.js","components/Loader/styles.js","components/Loader/index.js","components/App/App.js","store/story/selectors.js","components/App/inedx.js","serviceWorker.js","index.js"],"names":["GlobalStyles","createGlobalStyle","_templateObject","actionTypes","SET_THEME","concat","app","state","arguments","length","undefined","theme","_ref","type","payload","Object","objectSpread","API_ROOT","process","URL","TIMEOUT","HEADERS","Content-Type","Accept","client","ApiService","_ref$baseURL","baseURL","_ref$timeout","timeout","_ref$headers","headers","auth","classCallCheck","this","axios","create","interceptors","response","use","handleSuccess","handleError","error","Promise","reject","path","get","then","data","post","put","patch","delete","hackerNewsApi","getTopStoryIds","getStory","id","getStoriesByPage","ids","page","_getPageSlice","limit","begin","end","getPageSlice","storyPromises","items","slice","getPageValues","map","all","NS","FETCH_STORY_IDS_REQUEST","FETCH_STORY_IDS_SUCCESS","FETCH_STORY_IDS_FAILURE","FETCH_STORIES_REQUEST","FETCH_STORIES_SUCCESS","FETCH_STORIES_FAIURE","action","actions","fetchStoryIds","dispatch","storyIds","fetchStories","catch","err","stories","story","isFetching","toConsumableArray","rootReducer","combineReducers","middlewareList","push","thunk","middleware","compose","applyMiddleware","apply","configureStore","initialState","createStore","reducer","getSiteHostName","siteUrl","hostname","includes","url","parse","split","HN_ROOT","HN_ITEM","HN_USER","getArticleLink","commentUrl","Item","styled","li","styles_templateObject","border","Title","h3","_templateObject2","_ref2","text","Host","span","_templateObject3","_ref3","textSecondary","ExternalLink","a","_templateObject4","_ref4","Description","div","_templateObject5","_ref5","CommentLink","_templateObject6","_ref6","_ref7","LINK_URL","ListItem","by","_ref$kids","kids","score","title","time","site","link","getActionLink","userUrl","react_default","createElement","href","rel","target","format","Date","toString","ListWrapper","ul","List_styles_templateObject","backgroundSecondary","List","components_ListItem","assign","key","colorsDark","background","colorsLight","Wrapper","App_styles_templateObject","h1","styles_templateObject2","blink","keyframes","Loader_styles_templateObject","Animation","Loader_styles_templateObject2","Loader","App","props","_this","possibleConstructorReturn","getPrototypeOf","call","_this$props","handelSwitchTheme","checked","setState","lightTheme","fetchStoriesFirstPage","_this$props2","hasMoreStories","styled_components_browser_esm","styles_Title","react_switch_default","height","width","onChange","lib_default","dataLength","next","hasMore","loader","components_Loader","style","overflow","components_List","Component","hasMoreStoriesSelector","createSelector","connect","isLocalhost","Boolean","window","location","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","store","ReactDOM","render","es","global","inedx","document","getElementById","renderApp","origin","addEventListener","fetch","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.c3a090ba.chunk.js","sourcesContent":["import {createGlobalStyle} from \"styled-components\"\r\nconst GlobalStyles=createGlobalStyle`\r\n    *{\r\n        box-sizing:border-box\r\n    }\r\n    html,body{\r\n        font-family:Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\r\n        width:100vw;\r\n        overflow-x:hidden;\r\n        margin:0;\r\n        padding:0;\r\n    }\r\n    ul{\r\n        list-style:none;\r\n        padding:0;\r\n    }\r\n    a{\r\n        text-decoration:none,\r\n        &:visit\r\n    }\r\n`;\r\n\r\nexport default GlobalStyles;","const NS=\"@hnReader/app\";\r\nexport const actionTypes={\r\n    SET_THEME: `${NS}/SET_THEME`\r\n};\r\nconst actions = {\r\n  settheme:(payload={})=>({type:actionTypes.SET_THEME,payload}),\r\n};\r\nexport default actions;\r\n","import {actionTypes} from \"./actions\";\r\nconst getInitialState=()=>({\r\n  theme:\"dark\",\r\n});\r\nconst app= (state=getInitialState(),{type,payload})=>{\r\n  switch (type) {\r\n      case actionTypes.SET_THEME:\r\n          return{\r\n              ...state,\r\n              ...payload\r\n          };\r\n      default:\r\n          return state\r\n  }\r\n};\r\n\r\nexport default app;","import axios from \"axios\";\r\nconst API_ROOT=process.env.URL || \"http://localhost:3000\";\r\nconst TIMEOUT=20000;\r\nconst HEADERS={\r\n    \"Content-Type\":\"application/json\",\r\n    Accept:\"Application/Json\"\r\n};\r\nclass ApiService {\r\n    client;\r\n    constructor({baseURL=API_ROOT,timeout=TIMEOUT,headers=HEADERS,auth}){\r\n        const client=axios.create({\r\n            baseURL,\r\n            timeout,\r\n            headers,\r\n            auth\r\n        });\r\n        client.interceptors.response.use(this.handleSuccess,this.handleError);\r\n        this.client=client;\r\n    }\r\n    handleSuccess(response){\r\n        return response;\r\n    }\r\n    handleError(error){\r\n        return Promise.reject(error);\r\n    }\r\n    get(path){\r\n        return this.client.get(path).then(response=>response.data);\r\n    }\r\n    post(path,payload){\r\n        return this.client.post(path,payload).then(response=>response.data);\r\n    }\r\n    put(path,payload){\r\n        return this.client.put(path,payload).then(response=>response.data);\r\n    }\r\n    patch(path,payload){\r\n        return this.client.patch(path,payload).then(response=>response.data);\r\n    }\r\n    delete(path,payload){\r\n        return this.client.delete(path,payload).then(response=>response.data);\r\n    }\r\n}\r\n\r\nexport default ApiService;","import ApiService from \"./Api\";\r\nconst JSON_QUERY=\".json?print=pretty\";\r\nconst BASE_URL=\"https://hacker-news.firebaseio.com/v0\";\r\nconst client= new ApiService({baseURL:BASE_URL});\r\nconst hackerNewsApi={};\r\nconst PAGE_LIMIT=20;\r\nconst getPageSlice=(limit,page=0)=>({begin:page*limit,end:(page+1)*limit});\r\nconst getPageValues=({begin,end,items})=>items.slice(begin,end);\r\nhackerNewsApi.getTopStoryIds=()=>client.get(`/topstories${JSON_QUERY}`);\r\nhackerNewsApi.getStory=id=>client.get(`/item/${id}${JSON_QUERY}`);\r\nhackerNewsApi.getStoriesByPage=(ids,page)=>{\r\n    const {begin,end}=getPageSlice(PAGE_LIMIT,page);\r\n    const activeIds=getPageValues({begin,end,items:ids});\r\n    const storyPromises=activeIds.map(id=>hackerNewsApi.getStory(id));\r\n    return Promise.all(storyPromises);\r\n};\r\nexport default hackerNewsApi;","import hackerNewsApi from \"../../services/hackerNewsApi\";\r\nconst NS=\"@hnReader/story\";\r\nexport const actionTypes={\r\n    FETCH_STORY_IDS_REQUEST:`${NS}/FETCH_STORY_IDS_REQUEST`,\r\n    FETCH_STORY_IDS_SUCCESS:`${NS}/FETCH_STORY_IDS_SUCCESS`,\r\n    FETCH_STORY_IDS_FAILURE:`${NS}/FETCH_STORY_IDS_FAILURE`,\r\n    FETCH_STORIES_REQUEST:`${NS}/FETCH_STORIES_REQUEST`,\r\n    FETCH_STORIES_SUCCESS:`${NS}/FETCH_STORIES_SUCCESS`,\r\n    FETCH_STORIES_FAIURE:`${NS}/FETCH_STORIES_FAIURE`\r\n};\r\nconst action = (type,payload)=>({type,payload});\r\nconst actions={\r\n  fetchStoryIds:(payload={})=>{\r\n      return dispatch=>{\r\n          dispatch(action(actionTypes.FETCH_STORY_IDS_REQUEST,payload));\r\n          return hackerNewsApi\r\n              .getTopStoryIds()\r\n              .then(storyIds =>{\r\n                  //dispatch(action(actionTypes.FETCH_STORIES_SUCCESS,{storyIds}));\r\n                  dispatch(actions.fetchStories({storyIds,page:0}));\r\n                  return storyIds;\r\n              })\r\n              .catch(err=>dispatch(action(actionTypes.FETCH_STORY_IDS_FAILURE,err)));\r\n      };\r\n  },\r\n    fetchStories:(payload={})=>{\r\n     return dispatch=>{\r\n         const {storyIds,page}=payload;\r\n         dispatch(action(actionTypes.FETCH_STORIES_REQUEST,payload));\r\n         return hackerNewsApi\r\n             .getStoriesByPage(storyIds,page)\r\n             .then(stories=>dispatch(action(actionTypes.FETCH_STORIES_SUCCESS,{stories,storyIds})))\r\n             .catch(err=>dispatch(action(actionTypes.FETCH_STORIES_FAIURE,err)));\r\n     };\r\n    }\r\n};\r\n\r\nexport default actions;","import {actionTypes} from \"./actions\"\r\nconst getInitialState=()=>({\r\n    storyIds:[],\r\n    stories: [],\r\n    page:0,\r\n    isFetching:false,\r\n    error:''\r\n});\r\n\r\nconst story= (state=getInitialState(),{type,payload})=>{\r\n  switch (type) {\r\n      case actionTypes.FETCH_STORY_IDS_REQUEST:\r\n      case actionTypes.FETCH_STORIES_REQUEST:\r\n          return{\r\n              ...state,\r\n              isFetching: true\r\n          };\r\n      case actionTypes.FETCH_STORY_IDS_SUCCESS:\r\n          return{\r\n              ...state,\r\n              ...payload\r\n          };\r\n      case actionTypes.FETCH_STORIES_SUCCESS:\r\n          return{\r\n              ...state,\r\n              storyIds:[...payload.storyIds],\r\n              stories: [...state.stories,...payload.stories],\r\n              isFetching:false,\r\n              page:state.page+1\r\n          };\r\n      default:\r\n          return state;\r\n  }\r\n};\r\n\r\nexport default story;","import {combineReducers} from \"redux\";\r\nimport app from \"./app/reducer\";\r\nimport story from \"./story/reducer\";\r\nconst rootReducer=combineReducers({\r\n    app,story\r\n});\r\nexport default rootReducer;","import {applyMiddleware,compose} from \"redux\"\r\nimport thunk from \"redux-thunk\";\r\nimport {createLogger} from \"redux-logger\"\r\n\r\nconst isProd = process.env.NODE_ENV===\"production\";\r\nconst middlewareList=[];\r\nmiddlewareList.push(thunk);\r\nif (!isProd){\r\n    middlewareList.push(createLogger());\r\n}\r\nconst middleware=compose(applyMiddleware(...middlewareList));\r\nexport default middleware;","import {createStore} from \"redux\";\r\nimport reducer from \"./reducer\";\r\nimport middleware from \"./middleware\";\r\nconst configureStore=initialState=>{\r\n    return createStore(reducer,initialState,middleware);\r\n};\r\n\r\nexport default configureStore;","import url from \"url\";\r\nconst getSiteHostName=siteUrl=>{\r\n  let hostname=\"\";\r\n  if (siteUrl){\r\n      if (!siteUrl.includes(\"//\")){\r\n          siteUrl=`http://${siteUrl}`;\r\n      }\r\n      hostname=url.parse(siteUrl).hostname;\r\n  }\r\n  if (hostname.includes(\"www.\")){\r\n      hostname=hostname.split(\"www.\")[1];\r\n  }\r\n  return hostname;\r\n};\r\n\r\nexport default getSiteHostName;","const HN_ROOT='https://news.ycombinator.com';\r\nexport const HN_ITEM=`${HN_ROOT}/item?id=`;\r\nexport const HN_USER=`${HN_ROOT}/user?id=`;\r\nconst getArticleLink=({url,id})=>{\r\n  const commentUrl=`${HN_ITEM}${id}`;\r\n  return !!url ? url :commentUrl;\r\n};\r\n\r\nexport default getArticleLink;","import styled from \"styled-components\";\r\nexport const Item= styled.li`\r\n    border-bottom:1px solid ${({theme})=>theme.border};\r\n    padding:14px 24px;\r\n    &:last-child{\r\n        border-bottom:none;\r\n    }\r\n`;\r\nexport const Title=styled.h3`\r\n    color:${({theme})=>theme.text};\r\n    margin-top:0;\r\n    margin-bottom:6px;\r\n    font-weight:400;\r\n    font-size:16px;\r\n    letter-spacing:0.4px;    \r\n`;\r\n\r\nexport const Host=styled.span`\r\n    color:${({theme})=> theme.textSecondary};\r\n    font-size:12px;\r\n`;\r\n\r\nexport const ExternalLink=styled.a`\r\n    color:${({theme})=>theme.text};\r\n    display:flex;\r\n    width:100%;\r\n    height:100%;\r\n    flex-direction:row;\r\n    align-items:center;\r\n    text-decoration:none;\r\n`;\r\n\r\nexport const Description=styled.div`\r\n    font-size:14px;\r\n    color:${({theme})=> theme.textSecondary};\r\n`;\r\n\r\nexport const CommentLink=styled.a`\r\n    color:${({theme})=>theme.textSecondary};\r\n    &:visited{\r\n        color:${({theme})=>theme.textSecondary}\r\n    }\r\n`;","import React from \"react\";\r\nimport {format} from \"timeago.js\";\r\nimport getSiteHostName from \"../../utils/getSiteHostname\";\r\nimport getActionLink,{HN_ITEM,HN_USER} from \"../../utils/getArticleLink\";\r\nimport {Item,Title,Host,ExternalLink,Description,CommentLink} from \"./styles\";\r\n\r\n//const timeago=Timeago();\r\nconst LINK_URL=\"nofollow noreferrer noopener\";\r\nconst ListItem=({by,kids=[],score,url,title,id,type,time})=>{\r\n    const site=getSiteHostName(url) || \"news.ycombine.com\";\r\n    const link=getActionLink({url,id});\r\n    const commentUrl=`${HN_ITEM}${id}`;\r\n    const userUrl=`${HN_USER}${by}`;\r\n\r\n    return(\r\n        <Item>\r\n            <ExternalLink href={link} rel={LINK_URL} target=\"_blank\">\r\n                <Title>\r\n                    {title} <Host>{site}</Host>\r\n                </Title>\r\n            </ExternalLink>\r\n            <Description>\r\n                {score} points by{' '}\r\n                <CommentLink href={userUrl} rel={LINK_URL} target=\"_blank\">\r\n                    {by}\r\n                </CommentLink>{' '}\r\n                {format(new Date(time*1000).toString())} {' | '}\r\n                <CommentLink href={commentUrl} rel={LINK_URL} target=\"_blank\">\r\n                    {kids.length} Comments\r\n                </CommentLink>\r\n            </Description>\r\n        </Item>\r\n    )\r\n};\r\n\r\nexport default ListItem;","import styled from \"styled-components\";\r\nexport const ListWrapper=styled.ul`\r\n    background-color:${({theme})=>theme.backgroundSecondary};\r\n    border-radius:4px;\r\n    margin-left:auto;\r\n    margin-right:auto;\r\n    margin-bottom:20px;\r\n    display:flex;\r\n    flex-direction:column;\r\n`;\r\n\r\n","import React from \"react\";\r\nimport ListItem from \"../ListItem\";\r\nimport {ListWrapper} from './styles';\r\n\r\nconst List=({stories})=>{\r\n    return (\r\n        <ListWrapper>\r\n            {stories.map(story=>(\r\n                <ListItem key={story.id} {...story}/>\r\n            ))}\r\n        </ListWrapper>\r\n    );\r\n};\r\n\r\nexport default List;","export const colorsDark={\r\n    background:\"#272727\",\r\n    backgroundSecondary:\"#393C3E\",\r\n    text:\"#bfbebe\",\r\n    textSecondary:\"#848886\",\r\n    border:\"#272727\"\r\n};\r\n\r\nexport const colorsLight={\r\n    background:\"#EAEAEA\",\r\n    backgroundSecondary:\"#F8F8F8\",\r\n    text:\"#848886\",\r\n    textSecondary:\"#aaaaaa\",\r\n    border:\"#EAEAEA\"\r\n};","import styled from \"styled-components\"\r\nimport {tablet} from \"../../styles/mediaQueries\";\r\nexport const Wrapper=styled.div`\r\n    width:85%;\r\n    margin-left:auto;\r\n    margin-right:auto;\r\n    height:100%;\r\n    overflow:hidden;\r\n    padding-bottom:200px;\r\n    ${tablet}{\r\n        width:95%;\r\n    }\r\n`;\r\n\r\nexport const Title=styled.h1`\r\n    color:${({theme})=>theme.textSecondary};\r\n    font=size:20px;\r\n    font-weight:300;\r\n    margin-top:24px;\r\n    margin-bottom:26px;\r\n`;","export const mobile=\"@media only screen and (max-width:480px)\";\r\nexport const tablet=\"@media only screen and (max-width:768px)\";\r\nexport const monitor=\"@media only screen and (min-width:769px)\";","import styled,{keyframes} from \"styled-components\";\r\nconst blink=keyframes`\r\n    /*\r\n        At the start of the animation the dot\r\n        has on opacity of 0.2\r\n    */\r\n   0%{\r\n        opacity:0.2;\r\n   }\r\n   20%{\r\n        opacity:1;\r\n   }\r\n   100%{\r\n        opacity:0.2;\r\n   }\r\n`;\r\nexport const Animation= styled.div`\r\n    text-align:center;\r\n    span{\r\n        color:${({theme})=>theme.textSecondary};\r\n        display:inline-block;\r\n        margin-left:4px;\r\n        margin-right:4px;\r\n        line-height:0.1;\r\n        animation-name:${blink};\r\n        animation-duration:1s;\r\n        animation-iteration-count:infinite;\r\n        animation-fill-mode:both;\r\n    }\r\n    span:nth-child(2){\r\n        animation-delay:0.2s;\r\n    }\r\n    span:nth-child(3){\r\n        animation-delay:0.4s;\r\n    }\r\n`;\r\n","import React from \"react\";\r\nimport{Animation} from \"./styles\";\r\n\r\nconst Loader= ()=>(\r\n    <Animation>\r\n        <span>.</span>\r\n        <span>.</span>\r\n        <span>.</span>\r\n    </Animation>\r\n);\r\n\r\nexport default Loader;","import React,{Component} from \"react\";\r\nimport {ThemeProvider} from \"styled-components\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport Switch  from \"react-switch\"\r\nimport List from \"../List\";\r\nimport {colorsDark,colorsLight} from \"../../styles/palette\"\r\nimport {Wrapper,Title} from \"./styles\";\r\nimport Loader from \"../Loader\";\r\n\r\nclass App extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            lightTheme:false,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.props.fetchStoriesFirstPage();\r\n    }\r\n    fetchStories=()=>{\r\n      const {storyIds,page,fetchStories,isFetching}=this.props;\r\n      if (!isFetching){\r\n          fetchStories({storyIds,page});\r\n      }\r\n    };\r\n    handelSwitchTheme=(checked)=>{\r\n        this.setState({\r\n            lightTheme:checked\r\n        });\r\n    };\r\n    render() {\r\n        const {stories,hasMoreStories} = this.props;\r\n        return(\r\n            <ThemeProvider theme={this.state.lightTheme?colorsLight:colorsDark}>\r\n              <div>\r\n                <Wrapper>\r\n                  <Title>Header News Reader</Title>\r\n                    <p>\r\n                        Theme : {this.state.lightTheme?'Light':'Dark'}\r\n                        <Switch\r\n                            checked={this.state.lightTheme}\r\n                            height={20}\r\n                            width={48}\r\n                            onChange={this.handelSwitchTheme}\r\n                        />\r\n                    </p>\r\n                    <InfiniteScroll\r\n                        dataLength={stories.length}\r\n                        next={this.fetchStories}\r\n                        hasMore={hasMoreStories}\r\n                        loader={<Loader/>}\r\n                        style={{\r\n                            height:\"100%\",\r\n                            overflow:\"visible\"\r\n                        }}\r\n                    >\r\n                        <List stories={stories}/>\r\n                    </InfiniteScroll>\r\n\r\n                </Wrapper>\r\n              </div>\r\n            </ThemeProvider>\r\n        );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { createSelector } from 'reselect';\r\n\r\nconst storyIdsSelector = state => state.story.storyIds;\r\nconst storiesSelector = state => state.story.stories;\r\n\r\nexport const hasMoreStoriesSelector = createSelector(\r\n    storyIdsSelector,\r\n    storiesSelector,\r\n    (storyIds, stories) => storyIds.length > stories.length,\r\n);","import {connect} from \"react-redux\";\r\nimport actions from \"../../store/story/actions\";\r\nimport App from \"./App\";\r\nimport {hasMoreStoriesSelector} from \"../../store/story/selectors\"\r\nconst mapStateToProps=state=>({\r\n    stories: state.story.stories,\r\n    page:state.story.page,\r\n    storyIds:state.story.storyIds,\r\n    isFetching:state.story.isFetching,\r\n    hasMoreStories:hasMoreStoriesSelector(state)\r\n});\r\nconst mapDispatchToProps=dispatch=>({\r\n    fetchStoriesFirstPage:()=>dispatch(actions.fetchStoryIds()),\r\n    fetchStories: ({storyIds,page})=> dispatch(actions.fetchStories({storyIds,page}))\r\n});\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport {Provider} from \"react-redux\";\nimport ReactDOM from 'react-dom';\nimport GlobalStyles from \"./styles/global\";\nimport configureStore from \"./store\";\nimport App from './components/App/inedx';\nimport * as serviceWorker from './serviceWorker';\n\nconst renderApp=()=> {\n    const store = configureStore({});\n    if (process.env.NODE_ENV !== \"production\") {\n        console.log(\"initial state ->\");\n        console.log(store.getState());\n    }\n    ReactDOM.render(\n        <Provider store={store}>\n            <div>\n                <GlobalStyles/>\n                <App/>\n            </div>\n        </Provider>,\n        document.getElementById(\"root\"));\n};\n\nrenderApp();\nserviceWorker.register();\n"],"sourceRoot":""}